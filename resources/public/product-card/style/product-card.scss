@config "./product-card.config.js";
@tailwind utilities;

:root {
  // card
  --fct-card-bg: #ffffff;
  --fct-card-border-color: var(--fct-border-color, #d6dae1);
  --fct-card-primary-text-color: var(--fct-primary-text-color, #2F3448);
  --fct-card-text-color: var(--fct-secondary-text-color, #565865);

  // button
  --fct-card-btn-bg-color: var(--fct-btn-bg-color, #253241);
  --fct-card-btn-text-color: var(--fct-btn-text-color, #ffffff);
  --fct-card-ring-color: var(--fct-card-btn-bg-color);
  --fct-card-muted-bg: #f8fafc;

  --fct-heading-color: var(--fct-primary-text-color, #2F3448);
}

/* ==== fct-product-card ==== */
.fct-product-card {
  @apply relative h-full bg-[var(--fct-card-bg)] flex flex-col border border-solid rounded-xl border-[var(--fct-card-border-color)] transition-all duration-200 shadow-sm hover:shadow-md;

  del {
    opacity: .5;
  }

  h1,h2,h3,h4,h5,h6 {
    @apply mt-0 text-[var(--fct-card-primary-text-color)] text-base font-semibold mb-1;

    a {
      @apply text-[var(--fct-card-primary-text-color)] no-underline;
    }
  }

  .fct-product-card-media {
    @apply relative overflow-hidden rounded-t-xl bg-[var(--fct-card-muted-bg)];
  }

  .fct-product-card-image-wrap {
    @apply block aspect-square overflow-hidden;
  }

  img {
    @apply object-cover aspect-square w-full h-full transition-transform duration-300;
  }

  &:hover img {
    transform: scale(1.03);
  }

  .fct-product-card-badge {
    @apply absolute top-3 left-3 rounded-full bg-[var(--fct-card-btn-bg-color)] px-2.5 py-1 text-xs font-semibold text-[var(--fct-card-btn-text-color)] shadow-sm;
  }

  .fct-product-card-title {
    @apply text-[var(--fct-card-primary-text-color)];
    overflow-wrap: anywhere;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .fct-product-card-prices {
    @apply text-[var(--fct-card-primary-text-color)] text-lg font-semibold;
  }

  .fct-product-card-body {
    @apply flex flex-col gap-2 px-4 py-4;
  }

  button {
    @apply relative inline-flex w-full items-center justify-center gap-2 rounded-md px-4 py-2.5 text-sm font-semibold transition-colors duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--fct-card-ring-color)] focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--fct-card-bg)];
  }

  .fct-product-card-primary,
  .fluent-cart-add-to-cart-button {
    background: var(--fct-card-btn-bg-color);
    color: var(--fct-card-btn-text-color);
    @apply shadow-sm hover:opacity-90;
  }

  .fct-product-card-secondary {
    @apply inline-flex w-full items-center justify-center rounded-md border border-solid border-[var(--fct-card-border-color)] px-4 py-2.5 text-sm font-medium text-[var(--fct-card-primary-text-color)] transition-colors duration-150 hover:bg-[var(--fct-card-muted-bg)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--fct-card-ring-color)] focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--fct-card-bg)];
    background: transparent;
  }

  .fct-product-card-actions {
    @apply mt-auto grid gap-2 px-4 pb-4;

    .fluent-cart-loader {
      @apply duration-300 pointer-events-none justify-center items-center rounded absolute inset-0 w-full h-full hidden;
      background: var(--fct-card-btn-bg-color);

      svg {
        @apply w-5 h-5 mr-2 text-gray-200 animate-spin fill-blue-600;
      }
    }
  }

  .fct-product-card-content{
    @apply grid;
  }
  p:not(.fct-product-card-excerpt) {
    @apply m-0;
  }
  .fct-product-card-excerpt{
    @apply text-sm text-[var(--fct-card-text-color)];
  }
}

.fct-product-view-button {
  @apply inline-flex w-full items-center justify-center gap-2 rounded-md px-4 py-2.5 text-sm font-semibold transition-colors duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--fct-card-ring-color)] focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--fct-card-bg)];
  background: var(--fct-card-btn-bg-color);
  color: var(--fct-card-btn-text-color);

  &.group.loading {
    .fluent-cart-loader {
      @apply opacity-100;
    }
  }
}

/* ==== end fct-product-card ==== */
.fct-product-list-container {
  .fct-product-list-heading {
    @apply text-[26px] mb-7.5 font-bold text-[var(--fct-heading-color)];
  }
}

.fct-product-list {
  @apply grid grid-cols-4 gap-6;
  .fct-product-card a {
    @apply no-underline;
  }
}

@container product-grid (min-width: 540px){
  .group.list .fct-single-product-card{
    grid-template-areas:  'head  body' 'head footer';
  }
}

@media (max-width: 990px) {
  .fct-product-list {
    @apply grid-cols-3;
  }
}

@media (max-width: 768px) {
  .fct-product-list {
    @apply grid-cols-2;
  }
}

@media (max-width: 575px) {
  .fct-product-list {
    @apply grid-cols-1;
  }
}
